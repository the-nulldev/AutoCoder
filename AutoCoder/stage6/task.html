<div class="step-text">
  <h2>Description</h2>

  <p>In this stage, your workflow should automatically create a pull request with the generated code. To achieve this, you need to use an external workflow to streamline the process. Study the requirements for using this workflow and integrate it into your own workflow. At the end of this stage, your workflow should create a pull request that commits the files generated by the script in the previous stage, and create a pull request based on them.</p>

  <h2>Objectives</h2>

  <p>Modify your workflow to commit the generated files and create a pull request. You should use the <a href="https://github.com/peter-evans/create-pull-request" rel="noopener noreferrer nofollow" target="_blank">create pull request</a>external action to create the pull request. Your workflow should have jobs or steps that:</p>

  <ul>
    <li>Checkout the repo</li>
    <li>Make the script executable;</li>
    <li>Run the script and pass the appropriate environment variables;</li>
    <li>Commit the generated code</li>
    <li>Create a pull request with the generated code;</li>
  </ul>

  <p>To make sure that the workflow works as expected, you should:</p>

  <ul>
    <li>Configure your workflow&#39;s local git settings with the following values:
      <ul>
        <li>user.name: &quot;autocoder-bot&quot;</li>
        <li>user.email: &quot;actions@github.com</li>
      </ul>
    </li>
    <li>The <a href="https://github.com/peter-evans/create-pull-request" rel="noopener noreferrer nofollow" target="_blank">create pull request</a>action can be used without any inputs. However, for this project, it should be provided with the following additional parameters:
      <ul>
        <li>The branch should be named following the convention <code>autocoder-branch-<em>issueNumber</em> </code></li>
        <li>base: &quot;main&quot;</li>
        <li>labels: &quot;autocoder-bot&quot;</li>
      </ul>
    </li>
  </ul>

  <p>In order for your workflow to create pull requests, you need to explicitly provide this permission by adding a key named &quot;permissions&quot; and provide write access to both content and pull requests. For more details, review the GitHub Actions <a href="https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#permissions" rel="noopener noreferrer nofollow" target="_blank">documentation</a> on permissions.</p>

  <h2>Examples</h2>

  <p><strong>Example 1:</strong></p>

  <p style="text-align:center"><img alt="Sample workflow run" height="480" name="image.png" src="https://ucarecdn.com/1074673c-e10e-494c-a174-7528732b83c6/" width="1200" /></p>

  <p>After creating the issue, head back to your IDE and provide the full url of your repository. Finally, hit the <em>Check</em> button.</p>

</div>